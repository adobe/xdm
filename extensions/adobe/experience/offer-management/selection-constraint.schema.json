{
  "meta:license": [
    "Copyright 2018 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/experience/offer-management/selection-constraint",
  "meta:abstract": true,
  "meta:extensible": true,
  "meta:extends": [
    "https://ns.adobe.com/experience/decisioning/calendar-constraint",
    "https://ns.adobe.com/experience/decisioning/profile-constraint"
  ],
  "type": "object",
  "title": "Offer Selection Constraint",
  "description": "Offer selection constraints specify conditions that have to be met in order for an offer to be included when ranking the best offer. Those constraints can have two aspects, date constraints and a an eligibility applied to the user profile fields.",
  "definitions": {
    "selection-constraint-datatype": {
      "properties": {}
    }
  },
  "allOf": [
    {
      "$ref": "https://ns.adobe.com/experience/decisioning/calendar-constraint"
    },
    {
      "$ref": "https://ns.adobe.com/experience/decisioning/profile-constraint"
    },
    {
      "$ref": "#/definitions/selection-constraint-datatype"
    },
    {
      "required": ["xdm:startDate", "xdm:endDate"]
    }
  ]
}
