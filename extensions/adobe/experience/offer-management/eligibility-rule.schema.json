{
  "meta:license": [
    "Copyright 2018 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/experience/offer-management/eligibility-rule",
  "meta:extends": [
    "https://ns.adobe.com/xdm/data/record",
    "https://ns.adobe.com/experience/decisioning/rule",

    "https://ns.adobe.com/experience/decisioning/xdm-parameter-definitions"
  ],
  "meta:abstract": false,
  "meta:extensible": true,
  "type": "object",
  "title": "Offer Eligibility Rule",
  "description": "An eligibility rule is a named reusable predicate used in the domain of audience segmentation and message personalization. The Profile Query Language forms the foundation of those predicates. The predicate operates not only over profile fields but also over contextual data objects provided at the time of decisioning.",
  "definitions": {
    "eligibility-rule": {
      "properties": {
        "xdm:modelUsage": {
          "title": "Deprecated - Used Properties",
          "description": "Deprecated. Use the parameter definition in 'xdm:definedOn' to describe what schemas and properties the rule is using. A list of \"model usage\" objects, one per model, that lists the fully qualified path to every used property from the model.",
          "type": "array",
          "items": {
            "$ref": "https://ns.adobe.com/experience/offer-management/model-usage"
          }
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "https://ns.adobe.com/xdm/data/record"
    },
    {
      "$ref": "https://ns.adobe.com/experience/decisioning/rule"
    },
    {
      "$ref": "https://ns.adobe.com/experience/decisioning/xdm-parameter-definitions"
    },
    {
      "$ref": "#/definitions/eligibility-rule"
    },
    {
      "required": ["xdm:name"]
    }
  ]
}
