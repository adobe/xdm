{
  "meta:license": [
    "Copyright 2020 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$id": "https://ns.adobe.com/xdm/datatypes/trackinglink",
  "$schema": "http://json-schema.org/draft-06/schema#",
  "title": "Tracking Link",
  "type": "object",
  "meta:extensible": true,
  "meta:abstract": true,
  "description": "This Data Type is used to capture tracking link related properties like properties used for campaign message delivery tracking.",
  "definitions": {
    "tracking-link": {
      "properties": {
        "xdm:trackingLinkID": {
          "title": "Tracking Link ID",
          "type": "string",
          "description": "Unique Identifier of the tracking link"
        },
        "xdm:description": {
          "title": "Tracking URL Description",
          "type": "string",
          "description": "A human-friendly description of the link."
        },
        "xdm:url": {
          "title": "URL",
          "format": "uri",
          "type": "string",
          "description": "URL of the link."
        },
        "xdm:occurrence": {
          "title": "Occurrence",
          "type": "integer",
          "description": "URL occurrence index in the content (first is 1). When the same URL is available several times in the same content, its is necessary to track which occurrence of the URL has been clicked on.",
          "default": 1,
          "minimum": 1,
          "maximum": 32767
        },
        "xdm:label": {
          "title": "URL Label",
          "type": "string",
          "description": "The user-friendly label clicking on which the link opens."
        },
        "xdm:category": {
          "title": "URL Category",
          "type": "string",
          "description": "The category of the link. It may be `subscription`, or a user-defined category."
        },
        "xdm:inAppMessageAction": {
          "title": "In-App Message Action",
          "type": "string",
          "meta:enum": {
            "primary": "Primary action",
            "secondary": "Secondary action",
            "dismiss": "Dismiss action"
          },
          "description": "Actions on the In-App message delivered, e.g. action on primary button, secondary button or close button."
        },
        "xdm:inAppMessageButtonText": {
          "title": "In-App Message Button Text",
          "type": "string",
          "description": "The user-friendly text on the button."
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "https://ns.adobe.com/xdm/common/extensible#/definitions/@context"
    },
    {
      "$ref": "#/definitions/tracking-link"
    }
  ],
  "meta:status": "stable"
}
