{
  "meta:license": [
    "Copyright 2018 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$id":
    "https://ns.adobe.com/xdm-extensions/adobe/experience/campaign/experienceevent",
  "$schema": "http://json-schema.org/draft-06/schema#",
  "title": "Adobe Campaign ExperienceEvent Extension",
  "type": "object",
  "meta:extends": ["https://ns.adobe.com/xdm/context/experienceevent"],
  "description": "Adobe Campaign extension to ExperienceEvent.",
  "definitions": {
    "experienceevent": {
      "properties": {
        "https://ns.adobe.com/experience/campaign/message/id": {
          "title": "Message Identifier",
          "type": "number",
          "description": "Identifier of the message."
        },
        "https://ns.adobe.com/experience/campaign/message/profile": {
          "title": "Profile",
          "$ref": "https://ns.adobe.com/xdm/context/profile",
          "description":
            "The recipient of the message. This property is primarily used to link the message to a Profile using the `EndCustomerID` but it can also be used to freeze some properties of the profile at the time the message was sent."
        },
        "https://ns.adobe.com/experience/campaign/message/variant": {
          "title": "Content Variant",
          "type": "string",
          "description":
            "A campaign activity can have multiple variants (Multilingual or A/B testing) but a message delivered to a recipient always contains one of them.\n> IMPORTANT: In case of multilingual, the mirror page, the recipient can switch from one variant to another (ex: switch of the language)."
        },
        "https://ns.adobe.com/experience/campaign/message/seedMember": {
          "title": "Seed Member",
          "type": "boolean",
          "default": false,
          "description":
            "The recipient of this message is a member of a seed list for this campaign activity. Seed addresses are used to target recipients who do not match the defined target criteria. Seed members could be your marketing team or other stakeholders who are interested in tracking/measuring the quality of the campaign."
        },
        "https://ns.adobe.com/experience/campaign/message/quarantine": {
          "title": "Quarantine",
          "type": "boolean",
          "default": false,
          "description":
            "Address moved to quarantine. The quarantine is set to true when the message failed to deliver in a way that indicates that no future messages will be deliverable either to this address."
        },
        "https://ns.adobe.com/experience/campaign/message/proofMember": {
          "title": "Proof Member",
          "type": "boolean",
          "description":
            "The recipient of this message is a member of the proof group for this campaign activity. The proof is a special message that lets you test a delivery before sending to the main target. Proof recipients are responsible for approving both the form and content of the message.",
          "default": false
        },
        "https://ns.adobe.com/experience/campaign/message/controlGroupMember": {
          "title": "Control Group Member",
          "type": "boolean",
          "description":
            "The recipient of this message is a member of a control group for this campaign activity. A control group is a population which will not receive the delivery; it is used to track post-delivery behavior and campaign impact by making a comparison with the behavior of target population, which has received the delivery.",
          "default": false
        },
        "https://ns.adobe.com/experience/campaign/message/testMember": {
          "title": "A/B Test Member",
          "type": "boolean",
          "description":
            "The recipient of this message is a member of a test group for this campaign activity. This is primarily used for identifying the initial population of an A/B Test.",
          "default": false
        },
        "https://ns.adobe.com/experience/campaign/message/size": {
          "title": "Size (Bytes)",
          "type": "integer",
          "description":
            "Size in bytes of the message.\n* For email, the `size` reflects the all MIME envelope of the message, including the encoded attachments if any.\n* For SMS, the `size` reflects the number of bytes necessary to deliver the message.\nIf that number is over 160 the message will be delivered over more than one SMS.",
          "minimum": 0,
          "maximum": 2147483647
        },
        "https://ns.adobe.com/experience/campaign/message/reason": {
          "title": "Reason",
          "type": "string",
          "meta:enum": {
            "undefined": "Not defined",
            "unknown_user":
              "The address does not exist. There is no use sending deliveries to this address.",
            "invalid_domain":
              "The domain of the email address is incorrect or no longer exists.",
            "unreachable":
              "An error has occurred in the message delivery chain.These addresses can be removed from the quarantine list to make another attempt.",
            "disabled":
              "The user uses a messaging service which is accessible from the web. When the Internet Access Provider (IAP) detects a lengthy period of inactivity, it can close the user's account. Deliveries to the user's address will then be impossible.",
            "mailbox_full":
              "The recipient's mailbox contains too many messages. This address can be removed from the quarantine list to make another attempt.",
            "not_connected":
              "The recipient's mobile phone is switched off or not connected to the network when the message is sent.",
            "refused":
              "The address was rejected following the application of a security rule (e.g. by an anti-spam program)",
            "error_ignored":
              "The address is whitelisted and the message ignored.",
            "address_undefined": "No address is given for the recipient.",
            "blacklisted":
              "The address was blacklisted at the time of sending.",
            "quarantine":
              "The address was in quarantine at the time of sending.",
            "duplicate":
              "The address of the recipient was already in this campaign activity.",
            "typology_rule":
              "The recipient was excluded by a 'SQL' type campaign typology rule.",
            "business_ranking":
              "The recipient was excluded by an 'arbitration' type campaign typology rule",
            "cancelled": "Delivery cancelled",
            "quality": "The quality rating for this address is too low",
            "unchecked": "Unqualified address",
            "offer_missing": "Not eligible for the offers",
            "over_delivery_limit":
              "The campaign activity had more than allowed number of target profiles.",
            "expired":
              "The campaign activity exceeded the time duration to complete.",
            "too_long": "Text too long",
            "untranslatable": "Character not supported by encoding",
            "control_group": "Control address"
          },
          "description":
            "The reason why the message could/would not be delivered.",
          "default": "Undefined"
        },
        "https://ns.adobe.com/experience/campaign/message/reasonMessage": {
          "title": "Reason Message",
          "type": "string",
          "description":
            "Reason of message delivery failure when the status is `bounce` or `nonDeliverable`."
        },
        "https://ns.adobe.com/experience/campaign/message/outboundIP": {
          "title": "IP Address",
          "type": "string",
          "oneOf": [
            {
              "format": "ipv4"
            },
            {
              "format": "ipv6"
            }
          ],
          "description": "Outbound IP address used to deliver the message."
        },
        "https://ns.adobe.com/experience/campaign/delivery/id": {
          "title": "DeliveryID",
          "type": "integer",
          "description": "The campaign activity originating this message."
        },
        "https://ns.adobe.com/experience/campaign/campaign/id": {
          "title": "CampaignID",
          "type": "integer",
          "description":
            "The marketing campaign to which activity originating this message belongs to."
        },
        "https://ns.adobe.com/experience/campaign/delivery/from": {
          "title": "From",
          "type": "string",
          "description":
            "Address used as a from/sender/caller address. Depending on the communication channel, the `address` has a different format.\n\n  * `email`: an email address.\n  * `textMessage` or `phone`: a shortcode or phone number."
        },
        "https://ns.adobe.com/experience/campaign/delivery/testEnabled": {
          "title": "Test Enabled",
          "type": "boolean",
          "description":
            "Specify whether campaign activity is of type A/B testing.",
          "default": false
        },
        "https://ns.adobe.com/experience/campaign/delivery/messagesClass": {
          "title": "Message Class",
          "type": "string",
          "meta:enum": {
            "one_time": "Marketing (One Time)",
            "continuous": "Recurring",
            "event_based": "Transactional (Event-based)"
          },
          "description": "Mode of delivery for the messages sent.\n",
          "default": 0
        },
        "https://ns.adobe.com/experience/campaign/delivery/templateID": {
          "title": "Identifier of the Template",
          "type": "integer",
          "description":
            "The delivery template's ID used to initialize this delivery.\n\nThe type the template used in Adobe Campaign can be identified using the `messageClass`.\n\n* `messageClass` = `oneTime`: the template is standard delivery template.\n* `messageClass` = `continuous`: the template is a recurring delivery.\n* `messageClass` = `transactional`: the template is a transactionnal message template.\n"
        },
        "https://ns.adobe.com/experience/campaign/link/id": {
          "title": "Tracking URL ID",
          "type": "string",
          "description": "Unique Identifier of the Link"
        },
        "https://ns.adobe.com/experience/campaign/link/description": {
          "title": "Tracking URL Description",
          "type": "string",
          "description": "A human-friendly description of the Link."
        },
        "https://ns.adobe.com/experience/campaign/link/url": {
          "title": "URL",
          "format": "uri",
          "type": "string",
          "description": "URL of the Link."
        },
        "https://ns.adobe.com/experience/campaign/link/occurrence": {
          "title": "Occurrence",
          "type": "integer",
          "description":
            "URL occurrence index in the content (first is 1). When the same URL is available several times in the same content, its is necessary to track which occurrence of the URL has been clicked on.",
          "default": 1,
          "minimum": 1,
          "maximum": 32767
        },
        "https://ns.adobe.com/experience/campaign/link/tags": {
          "title": "Tags",
          "type": "array",
          "description":
            "A list of tags qualifying the link. The URL category is one of those tags.",
          "items": {
            "type": "string"
          }
        },
        "https://ns.adobe.com/experience/campaign/message/offerProposed": {
          "title": "Offers",
          "type": "array",
          "description": "Offers displayed in the message.",
          "items": {
            "$ref":
              "https://ns.adobe.com/xdm-extensions/adobe/experience/campaign/offer"
          }
        },
        "https://ns.adobe.com/experience/campaign/message/offerClicked": {
          "title": "Offer Clicked",
          "$ref":
            "https://ns.adobe.com/xdm-extensions/adobe/experience/campaign/offer",
          "description":
            "The offer and its location in the message for a click event related to an offer."
        },
        "https://ns.adobe.com/experience/campaign/message/externalId": {
          "title": "External ID",
          "type": "string",
          "description":
            "An ID generated by the parent activity invoking service to check later if the incoming experienceEvent was generated using this ID."
        },
        "https://ns.adobe.com/experience/campaign/businessContext": {
          "title": "Business Context",
          "type": "string",
          "description":
            "Internal field for identifying the various actions/intents."
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "#/definitions/experienceevent"
    }
  ],
  "meta:status": "experimental"
}
