{
    "$id": "https://ns.adobe.com/xdm/context/graph-edge",
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "XDM Graph Edge",
    "type": "object",
    "description": "XDM graph schema for edge/relationship between two nodes/vertices.",
    "meta:extensible": true,
    "meta:abstract": true,
    "definitions": {
        "graph-edge": {
            "properties": {
                "xdm:edges": {
                    "title": "Array Of Edges",
                    "description": "Array of edges.",
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "xdm:edgeId": {
                                "title": "Edge Identifier",
                                "description": "The unique identifier of the identity associated with this graph edge.",
                                "type": "string",
                                "meta:xdmType": "string"
                            },
                            "xdm:sourceNodeId": {
                                "title": "Source Node Id",
                                "description": "Source node identifier.",
                                "type": "string",
                                "meta:xdmType": "string"
                            },
                            "xdm:targetNodeId": {
                                "title": "Target Node Id",
                                "description": "Target node identifier.",
                                "type": "string",
                                "meta:xdmType": "string"
                            },
                            "xdm:relation": {
                                "title": "Relation Description",
                                "description": "Relation description.",
                                "type": "string",
                                "meta:xdmType": "string"
                            },
                            "xdm:label": {
                                "title": "Label",
                                "description": "Additional description.",
                                "type": "string",
                                "meta:xdmType": "string"
                            },
                            "xdm:dataProvider": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                        "xdm:dataProviderId": {
                                            "title": "Data Provider Id",
                                            "description": "Identifier of the Data Provider..",
                                            "type": "integer",
                                            "meta:xdmType": "int"
                                        },
                                        "xdm:firstSeenTimestamp": {
                                            "title": "Relationship Observed Time and Date",
                                            "description": "Time and date the relation was first observed.",
                                            "type": "string",
                                            "format": "date-time",
                                            "meta:xdmType": "date-time"
                                        },
                                        "xdm:lastSeenTimestamp": {
                                            "title": "Relationship Observed most recent Time and Date",
                                            "description": "Time and date the relation was last observed.",
                                            "type": "string",
                                            "format": "date-time",
                                            "meta:xdmType": "date-time"
                                        },
                                        "xdm:trusted": {
                                            "title": "Trusted Data Source Flag",
                                            "description": "Indicator of whether the data source is trusted or not.",
                                            "type": "boolean",
                                            "default": true,
                                            "meta:xdmType": "boolean"
                                        },
                                        "xdm:directed": {
                                            "title": "Directed Or Birectional",
                                            "description": "Nature of graph whether it is directed or birectional.",
                                            "type": "boolean",
                                            "default": false,
                                            "meta:xdmType": "boolean"
                                        },
                                        "xdm:relationType": {
                                            "title": "Relationship Type",
                                            "description": "The method that established the relationship - Online/Offline deterministic/probabilistic.",
                                            "type": "string",
                                            "enum": [
                                                "online_deterministic",
                                                "online_probabilistic",
                                                "offline_deterministic",
                                                "offline_probabilistic"
                                            ],
                                            "meta:enum": {
                                                "online_deterministic": "Online Deterministic",
                                                "online_probabilistic": "Online Probabilistic",
                                                "offline_deterministic": "Offline Deterministic",
                                                "offline_probabilistic": "Offline Probabilistic"
                                            },
                                            "meta:xdmType": "string"
                                        },
                                        "xdm:frequency": {
                                            "title": "Frequency",
                                            "description": "Frequency of the observed relationship.",
                                            "type": "integer",
                                            "meta:xdmType": "int"
                                        },
                                        "xdm:score": {
                                            "title": "Relationship Score",
                                            "description": "Imputed score of relationship.",
                                            "type": "number",
                                            "meta:xdmType": "number"
                                        },
                                        "xdm:summedRecency": {
                                            "title": "Recency Score",
                                            "description": "Recency score of relationship.",
                                            "type": "integer",
                                            "meta:xdmType": "int"
                                        },
                                        "xdm:lastCalculatedTimestamp": {
                                            "title": "Last Calculated Data And Time",
                                            "description": "Time and date the relationship score was last calculated.",
                                            "type": "string",
                                            "format": "date-time",
                                            "meta:xdmType": "date-time"
                                        }
                                    },
                                    "meta:xdmType": "object"
                                },
                                "meta:xdmType": "array"
                            }
                        },
                        "meta:xdmType": "object"
                    },
                    "meta:xdmType": "array"
                }
            }
        }
    },
    "allOf": [
        {
            "$ref": "#/definitions/graph-edge"
        },
        {
            "$ref": "xdm/common/auditable.schema.json"
        }
    ],
    "meta:status": "experimental",
    "meta:xdmType": "object"
}