{
  "meta:license": [
    "Copyright 2019 Adobe Systems Incorporated. All rights reserved.",
    "This work is licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at https://creativecommons.org/licenses/by/4.0/"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://ns.adobe.com/experience/decisioning/content-representation",
  "meta:abstract": true,
  "meta:extensible": true,
  "type": "object",
  "title": "Content Representation",
  "description": "A channel specific set of content components that is contributing to the end user experience.",
  "definitions": {
    "content-representation-datatype": {
      "properties": {
        "xdm:components": {
          "type": "array",
          "description": "The content components of the representation, including all their language variants. Specific components are found by 'dx:format', 'dc:subject' and 'dc:language' or a combination thereof. This metadata is used to locate or represent the content that is associated with a decision outcome and to integrate it according to the channel's contract. E.g. in a web channel content representations could require wrapping in a perticular HTML tag.",
          "items": {
            "$ref": "https://ns.adobe.com/experience/decisioning/content-component"
          }
        },
        "xdm:channel": {
          "type": "string",
          "format": "uri-reference",
          "title": "Channel",
          "description": "The channel constraint is used to convey not only where the content will be used but determines the content editor or validator that is used for the representation. The value is a valid Channel URI. See 'https://ns.adobe.com/xdm/channels/channel'"
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "#/definitions/content-representation-datatype"
    },
    {
      "required": ["xdm:components"]
    }
  ]
}
